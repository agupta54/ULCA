openapi: 3.0.1
info:
  title: Unified Language Contribution API (ULCA) documentation
  description: 'The ULCA API documentation defines a core set of interfaces that enables users and communities to contribute AI/ML datasets to build a large, open Indic languages resource ecosystem. The dataset contributions are primarily geared toward the area of NLP, ASR/TTS and OCR. The documentation proposes core set of interfaces where various AI based models can be hosted, referenced and benchmarked. The interfaces enables entire community to participate, collaborate and track key benchmark parameters.'
  contact:
    name: ekstep foundation
    email: contact@ekstep.org
  version: 0.7.0
servers:
- url: https://meity-auth.ulcacontrib.org 
  description: Production server (uses live data)
paths:
  /ulca/apis/v0/dataset/corpus/submit:
    post:
      tags:
      - dataset-controller
      operationId: datasetSubmit
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DatasetSubmitRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/DatasetSubmitResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'
      

  /ulca/apis/v0/dataset/corpus/search:
    post:
      tags:
      - dataset-controller
      operationId: corpusSearch
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DatasetCorpusSearchRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/DatasetCorpusSearchResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/dataset/listByUserId:
    get:
      tags:
      - dataset-controller
      operationId: listByUserIdDataset
      parameters:
      - name: userId
        in: query
        required: true
        schema:
          type: string
      - name: startPage
        in: query
        required: false
        schema:
          type: integer
          format: int32
      - name: endPage
        in: query
        required: false
        schema:
          type: integer
          format: int32
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/DatasetListByUserIdResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/dataset/getByServiceRequestNumber:
    get:
      tags:
      - dataset-controller
      operationId: datasetByServiceRequestNumber
      parameters:
      - name: serviceRequestNumber
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/DatasetByServiceReqNrResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/dataset/getByDatasetId:
    get:
      tags:
      - dataset-controller
      operationId: datasetById
      parameters:
      - name: datasetId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/DatasetByIdResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/dataset/corpus/search/status:
    get:
      tags:
      - dataset-controller
      operationId: searchStatus
      parameters:
      - name: serviceRequestNumber
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/DatasetSearchStatusResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/dataset/corpus/search/listByUserId:
    get:
      tags:
      - dataset-controller
      operationId: searchListByUserId
      parameters:
      - name: userId
        in: query
        required: true
        schema:
          type: string
      - name: startPage
        in: query
        required: false
        schema:
          type: integer
          format: int32
      - name: endPage
        in: query
        required: false
        schema:
          type: integer
          format: int32
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/SearchListByUserIdResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/model/upload:
    post:
      tags:
      - model-controller
      operationId: uploadModel
      parameters:
      - name: userId
        in: query
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UploadModelResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/model/submit:
    post:
      tags:
      - model-controller
      operationId: submitModel
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelExtended'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ModelExtended'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'
  /ulca/apis/v0/model/search:
    post:
      tags:
      - model-controller
      operationId: searchModel
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelSearchRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ModelSearchResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'
  /ulca/apis/v0/model/compute:
    post:
      tags:
      - model-controller
      operationId: computeModel
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelComputeRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ModelComputeResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'

  /ulca/apis/v0/model:
    get:
      tags:
      - model-controller
      operationId: getModel
      parameters:
      - name: modelId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ModelExtended'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'
  
  /ulca/apis/v0/model/listByUserId:
    get:
      tags:
      - model-controller
      operationId: mistByUserIdModel
      parameters:
      - name: userId
        in: query
        required: true
        schema:
          type: string
      - name: startPage
        in: query
        required: false
        schema:
          type: integer
          format: int32
      - name: endPage
        in: query
        required: false
        schema:
          type: integer
          format: int32
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ModelListByUserIdResponse'
        "400":
          description: On input errors causing a failure in the job.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/HttpErrorResponse'
  /v1/users/signup:
    post:
      tags:
        - 'Create Users'
      summary: 'REST API to register/create new user'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserSignupRequest'
        required: true
      responses:
        '200':
          description: New user is created successfully.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Status'
        '400':
          description: On input errors causing failure in user account creation.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in user account creation.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
      
  /v1/users/verify-user:
    post:
      tags:
        - 'Verify Users'
      summary: 'REST API to verify user account.'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserVerificationRequest'
        required: true
      responses:
        '200':
          description: User has verified successfully.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UserVerificationResponse'
        '400':
          description: On input errors causing failure in user verification.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in user verification.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
  
  /v1/users/api-key-search:
    post:
      tags:
        - 'Api-key-search'
      summary: 'REST API key for search'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiKeySearchRequest'
        required: true
      responses:
        '200':
          description: apiKey search is successful.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiKeySearchResponse'
        '400':
          description: On input errors causing failure in auth token search.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in auth token search.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'   
                
  /v1/users/login:
    post:
      tags:
        - 'Login'
      summary: 'REST API to login'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLoginRequest'
        required: true
      responses:
        '200':
          description: Logged in successfully.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UserLoginResponse'
        '400':
          description: On input errors causing failure in user login.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in user login.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error' 
                
   
  /v1/users/forgot-password:
    post:
      tags:
        - 'Forgot Password'
      summary: 'REST API for forgot password request'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ForgotPasswordRequest'
        required: true
      responses:
        '200':
          description: User has notfied successfully.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Status'
        '400':
          description: On input errors causing failure in user notification.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in user notification.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'          
  /v1/users/reset-password:
    post:
      tags:
        - 'Reset Password'
      summary: 'REST API for resetting password'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
        required: true
      responses:
        '200':
          description: Password updated successfully.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Status'
        '400':
          description: On input errors causing failure in password resetting.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in password resetting.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
  /v0/error/report:
    post:
      tags:
        - 'Report Errors'
      summary: 'REST API to get a downloadable reports on errors '
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorReportRequest'
        required: true
      responses:
        '200':
          description: Request successfull.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ErrorReportResponse'
        '400':
          description: On input errors causing failure reporting.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: On system level errors causing failure in reporting.
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/Error'

                
components:
  schemas:
    DatasetSubmitRequest:
      required:
      - datasetName
      - url
      - userId
      type: object
      properties:
        userId:
          type: string
        datasetName:
          type: string
        url:
          type: string
    Data:
      type: object
      properties:
        serviceRequestNumber:
          type: string
        datasetId:
          type: string
        timestamp:
          type: string
    DatasetSubmitResponse:
      type: object
      properties:
        message:
          type: string
        data:
          $ref: '#/components/schemas/Data'
    DatasetCorpusSearchRequest:
      required:
      - criteria
      type: object
      properties:
        userId:
          type: string
        datasetType:
          type: string
          enum:
          - parallel-corpus
          - monolingual-corpus
          - asr-corpus
          - asr-unlabeled-corpus
          - ocr-corpus
          - document-layout-corpus
        criteria:
          $ref: '#/components/schemas/SearchCriteria'
    SearchCriteria:
      type: object
      properties:
        licence:
          type: array
          items:
            type: string
        minScore:
          type: number
          format: float
        serviceRequestNumber:
          type: string
        targetLanguage:
          type: array
          items:
            type: string
        collectionMode:
          type: array
          items:
            type: string
        multipleContributors:
          type: boolean
        maxScore:
          type: number
          format: float
        collectionSource:
          type: array
          items:
            type: string
        score:
          type: number
          format: float
        domain:
          type: array
          items:
            type: string
        limit:
          type: integer
          format: int32
        datasetId:
          type: string
        datasetType:
          type: string
        sourceLanguage:
          type: array
          items:
            type: string
        groupBy:
          type: boolean
        countOfTranslations:
          type: integer
          format: int32
        originalSourceSentence:
          type: boolean
    DatasetCorpusSearchResponse:
      type: object
      properties:
        message:
          type: string
        data:
          $ref: '#/components/schemas/Data'
    DatasetListByUserIdResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/DatasetListByUserIdResponseDto'
        count:
          type: integer
          format: int32
        startPage:
          type: integer
          format: int32
        endPage:
          type: integer
          format: int32
    DatasetListByUserIdResponseDto:
      type: object
      properties:
        datasetId:
          type: string
        serviceRequestNumber:
          type: string
        datasetName:
          type: string
        datasetType:
          type: string
        submittedOn:
          type: string
        status:
          type: string
    DatasetByServiceReqNrResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/TaskTracker'
    Error:
      type: object
      properties:
        code:
          type: string
          description: Code of the error
        message:
          type: string
          description: Description of the error
        cause:
          type: object
          description: Additional details related to the cause of the error
        report:
          type: string
          description: Link to the error report file
      description: Task Tracker entity
    TaskTracker:
      type: object
      properties:
        serviceRequestNumber:
          type: string
          description: Unique identifier of the service request
        tool:
          type: string
          description: Tool updating this data
          enum:
          - download
          - pseudo
          - ingest
          - validate
          - publish
          - search
          - delete
        id:
          type: string
        status:
          type: string
          description: Status of the task
        details:
          type: string
          description: Details of the current status of the task
        startTime:
          type: string
          description: ISO timestamp of the instance of the start of process
        endTime:
          type: string
          description: ISO timestamp of the instance of the end of process
        lastModified:
          type: string
          description: ISO timestamp of the instance of the end of process
        error:
          $ref: '#/components/schemas/Error'
      description: Task Tracker entity
    DatasetByIdResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/TaskTracker'
    DatasetSearchStatusResponse:
      type: object
      properties:
        message:
          type: string
        data:
          $ref: '#/components/schemas/Data'
    SearchListByUserIdResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/SearchListByUserIdResponseDto'
        count:
          type: integer
          format: int32
        startPage:
          type: integer
          format: int32
        endPage:
          type: integer
          format: int32
    SearchListByUserIdResponseDto:
      type: object
      properties:
        serviceRequestNumber:
          type: string
        timestamp:
          type: string
        searchCriteria:
          $ref: '#/components/schemas/SearchCriteria'
        status:
          type: array
          items:
            $ref: '#/components/schemas/TaskTracker'
    ASRConfig:
      required:
      - language
      type: object
      properties:
        modelId:
          type: string
          description: Unique identifier of model
          example: "103"
        language:
          $ref: '#/components/schemas/LanguagePair'
        audioFormat:
          type: string
          enum:
          - wav
          - pcm
          - mp3
          - flac
        channel:
          type: string
          enum:
          - mono
          - stereo
        samplingRate:
          type: number
        bitsPerSample:
          type: string
          enum:
          - sixteen
          - eight
        transcriptionFormat:
          $ref: '#/components/schemas/TranscriptionFormat'
        profanityFilter:
          type: boolean
          example: true
        domain:
          type: array
          properties:
            empty:
              type: boolean
          description: This attribute defines that `relevant business area`
          items:
            type: string
            description: This attribute defines that `relevant business area`
        detailed:
          type: boolean
          description: "to specify whether details are required in output like SNR,\
            \ sampling rate"
        punctuation:
          type: boolean
          example: true
        model:
          type: string
          enum:
          - command_and_search
          - phone_call
          - video
          - default
    ASRFile:
      type: object
      properties:
        audioContent:
          type: array
          description: audio content with audio duration <= 1min
          items:
            type: string
            description: audio content with audio duration <= 1min
            format: byte
        audioUri:
          type: string
          description: path on gcp/s3 bucket or https url
          example: gs://bucket/audio.wav
    ASRInference:
      required:
      - request
      - taskType
      type: object
      allOf:
      - $ref: '#/components/schemas/OneOfInferenceAPIEndPointSchema'
      - type: object
        properties:
          taskType:
            type: string
          request:
            $ref: '#/components/schemas/ASRRequest'
          response:
            $ref: '#/components/schemas/ASRResponse'
    ASRRequest:
      required:
      - audio
      - config
      type: object
      properties:
        audio:
          $ref: '#/components/schemas/ASRFile'
        config:
          $ref: '#/components/schemas/ASRConfig'
    ASRResponse:
      required:
      - output
      type: object
      properties:
        output:
          type: array
          properties:
            empty:
              type: boolean
          description: list of
          items:
            $ref: '#/components/schemas/Sentence'
        config:
          $ref: '#/components/schemas/TranslationConfig'
      description: the response for translation.  Standard http status codes to be
        used.
    Contributor:
      required:
      - name
      type: object
      properties:
        name:
          maxLength: 50
          minLength: 5
          type: string
          description: human name of the contributor
        oauthId:
          $ref: '#/components/schemas/OAuthIdentity'
        aboutMe:
          type: string
          description: describing the contributor
    InferenceAPIEndPoint:
      required:
      - callbackUrl
      - schema
      type: object
      properties:
        callbackUrl:
          type: string
        schema:
          oneOf:
          - $ref: '#/components/schemas/ASRInference'
          - $ref: '#/components/schemas/OCRInference'
          - $ref: '#/components/schemas/TTSInference'
          - $ref: '#/components/schemas/TranslationInference'
      description: hosted location defines the end point of the model inference. specify
        a taskType along with Inference type
    LanguagePair:
      required:
      - sourceLanguage
      type: object
      properties:
        sourceLanguageName:
          type: string
          description: human name associated with the language code
        sourceLanguage:
          type: string
          description: "Indic language code, iso-639-1, iso 639-2"
          enum:
          - en
          - hi
          - mr
          - ta
          - te
          - kn
          - gu
          - pa
          - bn
          - ml
          - as
          - brx
          - doi
          - ks
          - kok
          - mai
          - mni
          - ne
          - or
          - sd
          - si
          - ur
          - sat
          - lus
          - njz
          - pnr
          - kha
          - grt
          - sa
        targetLanguageName:
          type: string
          description: human name associated with the language code
        targetLanguage:
          type: string
          description: "Indic language code, iso-639-1, iso 639-2"
          enum:
          - en
          - hi
          - mr
          - ta
          - te
          - kn
          - gu
          - pa
          - bn
          - ml
          - as
          - brx
          - doi
          - ks
          - kok
          - mai
          - mni
          - ne
          - or
          - sd
          - si
          - ur
          - sat
          - lus
          - njz
          - pnr
          - kha
          - grt
          - sa
      description: "language pair, make targetLanguage null to reuse the object to\
        \ indicate single language"
    ModelExtended:
      required:
      - description
      - domain
      - inferenceEndPoint
      - languages
      - license
      - name
      - submitter
      - task
      - trainingDataset
      type: object
      properties:
        name:
          maxLength: 100
          minLength: 5
          type: string
          description: model name that you want your users to see
          example: vakyansh asr model
        description:
          maxLength: 1000
          minLength: 25
          type: string
          description: "brief description about model, its goal, basically something\
            \ sweet about it"
          example: Speech recognition model for classroom lecture
        refUrl:
          maxLength: 200
          minLength: 5
          type: string
          description: github link or url giving further info about the model
          example: https://github.com/Open-Speech-EkStep/vakyansh-models
        task:
          $ref: '#/components/schemas/ModelTask'
        languages:
          type: array
          properties:
            empty:
              type: boolean
          items:
            $ref: '#/components/schemas/LanguagePair'
        license:
          type: string
          enum:
          - cc-by-4.0
          - cc-by-sa-4.0
          - cc-by-nd-2.0
          - cc-by-nd-4.0
          - cc-by-nc-3.0
          - cc-by-nc-4.0
          - cc-by-nc-sa-4.0
          - mit
          - gpl-3.0
          - bsd-3-clause
          - private-commercial
          - unknown-license
        domain:
          type: array
          properties:
            empty:
              type: boolean
          description: This attribute defines that `relevant business area`
          items:
            type: string
            description: This attribute defines that `relevant business area`
        submitter:
          $ref: '#/components/schemas/Submitter'
        inferenceEndPoint:
          $ref: '#/components/schemas/InferenceAPIEndPoint'
        trainingDataset:
          $ref: '#/components/schemas/TrainingDataset'
        modelId:
          type: string
        userId:
          type: string
        submittedOn:
          type: string
        publishedOn:
          type: string
        status:
          type: string
    ModelTask:
      type: object
      properties:
        type:
          type: string
          enum:
          - translation
          - tts
          - asr
          - document-layout
          - ocr
      description: the category of model under which it has been released or trained
    OAuthIdentity:
      type: object
      properties:
        identifier:
          type: string
          description: system identification for the contributor
        oauthId:
          type: string
          description: "popular social network identifier, typically identifier returned\
            \ after auth"
        provider:
          type: string
          description: user authentication provider
          enum:
          - custom
          - github
          - facebook
          - instagram
          - google
          - yahoo
    OCRConfig:
      required:
      - language
      type: object
      properties:
        modelId:
          type: string
          description: Unique identifier of model
          example: "103"
        language:
          $ref: '#/components/schemas/LanguagePair'
    OCRInference:
      required:
      - request
      - taskType
      type: object
      allOf:
      - $ref: '#/components/schemas/OneOfInferenceAPIEndPointSchema'
      - type: object
        properties:
          taskType:
            type: string
          request:
            $ref: '#/components/schemas/OCRRequest'
          response:
            $ref: '#/components/schemas/OCRResponse'
    OCRRequest:
      required:
      - config
      - imageUri
      type: object
      properties:
        imageUri:
          type: array
          description: list of paths on gcp/s3 bucket or https url
          example: gs://bucket/testimg.jpeg
          items:
            type: string
            description: list of paths on gcp/s3 bucket or https url
            example: gs://bucket/testimg.jpeg
        config:
          $ref: '#/components/schemas/OCRConfig'
    OCRResponse:
      required:
      - output
      type: object
      properties:
        output:
          type: array
          properties:
            empty:
              type: boolean
          description: list of
          items:
            $ref: '#/components/schemas/Sentence'
        config:
          $ref: '#/components/schemas/TranslationConfig'
      description: the response for translation.  Standard http status codes to be
        used.
    OneOfInferenceAPIEndPointSchema:
      required:
      - taskType
      type: object
      properties:
        taskType:
          type: string
      discriminator:
        propertyName: taskType
    Sentence:
      required:
      - source
      type: object
      properties:
        source:
          maxLength: 2147483647
          minLength: 1
          type: string
          description: input sentence for the model
        target:
          maxLength: 2147483647
          minLength: 1
          type: string
          description: "to be used along with translation model. expected translated\
            \ sentence, for reference"
      description: list of
    Submitter:
      required:
      - name
      type: object
      properties:
        name:
          maxLength: 50
          minLength: 5
          type: string
          description: Name of the Submitter
        oauthId:
          $ref: '#/components/schemas/OAuthIdentity'
        aboutMe:
          type: string
          description: Describing the Submitter
        team:
          type: array
          properties:
            empty:
              type: boolean
          items:
            $ref: '#/components/schemas/Contributor'
      description: the schema of data file uploaded should adhere to this specified
        structure.
    TTSConfig:
      required:
      - language
      type: object
      properties:
        modelId:
          type: string
          description: Unique identifier of model
          example: "103"
        language:
          $ref: '#/components/schemas/LanguagePair'
    TTSInference:
      required:
      - request
      - taskType
      type: object
      allOf:
      - $ref: '#/components/schemas/OneOfInferenceAPIEndPointSchema'
      - type: object
        properties:
          taskType:
            type: string
          request:
            $ref: '#/components/schemas/TTSRequest'
          response:
            $ref: '#/components/schemas/TTSResponse'
    TTSRequest:
      required:
      - config
      - input
      type: object
      properties:
        input:
          type: array
          properties:
            empty:
              type: boolean
          description: list of
          items:
            $ref: '#/components/schemas/Sentence'
        config:
          $ref: '#/components/schemas/TTSConfig'
    TTSResponse:
      required:
      - audioUri
      type: object
      properties:
        audioUri:
          type: string
          description: path on gcp/s3 bucket or https url
          example: gs://bucket/audio.wav
        config:
          $ref: '#/components/schemas/ASRConfig'
      description: the response for translation.  Standard http status codes to be
        used.
    TrainingDataset:
      required:
      - description
      type: object
      properties:
        datasetId:
          type: string
          description: "dataset identifier that has been exported from ULCA system,\
            \ passing this information makes your model enriched with further information\
            \ for the community"
        description:
          type: string
          description: explain your dataset that you have used for training your model
      description: training dataset metadata used to train the model
    TranscriptionFormat:
      type: object
      properties:
        value:
          type: string
          description: format of ASR output
          enum:
          - srt
          - transcript
          - alternatives
    TranslationConfig:
      required:
      - language
      type: object
      properties:
        modelId:
          type: integer
          description: Unique identifier of model
          format: int32
          example: 103
        language:
          $ref: '#/components/schemas/LanguagePair'
    TranslationInference:
      required:
      - request
      - taskType
      type: object
      allOf:
      - $ref: '#/components/schemas/OneOfInferenceAPIEndPointSchema'
      - type: object
        properties:
          taskType:
            type: string
          request:
            $ref: '#/components/schemas/TranslationRequest'
          response:
            $ref: '#/components/schemas/TranslationResponse'
    TranslationRequest:
      required:
      - config
      - input
      type: object
      properties:
        input:
          type: array
          properties:
            empty:
              type: boolean
          description: list of
          items:
            $ref: '#/components/schemas/Sentence'
        config:
          $ref: '#/components/schemas/TranslationConfig'
    TranslationResponse:
      required:
      - output
      type: object
      properties:
        output:
          type: array
          properties:
            empty:
              type: boolean
          description: list of
          items:
            $ref: '#/components/schemas/Sentence'
        config:
          $ref: '#/components/schemas/TranslationConfig'
      description: the response for translation.  Standard http status codes to be
        used.
    UploadModelResponse:
      type: object
      properties:
        message:
          type: string
        data:
          $ref: '#/components/schemas/ModelExtended'
    ModelSearchRequest:
      required:
      - sourceLanguage
      - task
      type: object
      properties:
        task:
          type: string
        sourceLanguage:
          type: string
        targetLanguage:
          type: string
    ModelSearchResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/ModelExtended'
        count:
          type: integer
          format: int32
    Input:
      type: object
      properties:
        source:
          type: string
    ModelComputeRequest:
      required:
      - modelId
      type: object
      properties:
        modelId:
          type: string
        task:
          type: string
        input:
          type: array
          items:
            $ref: '#/components/schemas/Input'
        audioUri:
          type: string
        audioContent:
          type: array
          items:
            type: string
            format: byte
    ModelComputeResponse:
      type: object
      properties:
        outputText:
          type: string
    ModelListByUserIdResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/ModelExtended'
        count:
          type: integer
          format: int32

    HttpErrorResponse:
      required:
      - code
      - message
      type: object
      properties:
        code:
          type: string
          description: status code as encountered in the processing life-cycle
          
        message:
          type: string
          description: human understandable format
        timestamp:
          type: string
          format: datetime

    UserSignupRequest:
      type: object
      required:
        - firstName
        - email
        - password
        - roles
      properties:
        firstName:
         type: string
         description: Firstname of the user to be registered.
        lastName:
          type: string
          description: Lastname of the user to be registered.
        email:
          type: string
          description: email of the user to be registered.
        password:
          type: string
          description: password of the user to be registered.
        roles:
          type: array
          description: Roles assigned to the user to be registered.
          items:
            type: string
        phoneNo:
          type: string
          description: Mobile phone number of the user to be registered.
    

    
    UserLoginRequest:
      type: object
      properties:
        authenticator:
          $ref: '#/components/schemas/Authenticator'
        data:
          type: object
          oneOf:
            - $ref: '#/components/schemas/UlcaLoginAuthenticator'
            - $ref: '#/components/schemas/GmailLoginAuthenticator'
    
  

    ApiKeySearchRequest:
      type: object
      properties:
        key:
          type: string
          description: Unique auth token of verified user
      description: Request for user records.


    ForgotPasswordRequest:
      type: object
      properties:
        email:
          type: string
          description: Unique email of the user.
      description: Request for user records.
    

    ResetPasswordRequest:
      type: object
      properties:
        email:
          type: string
          description: Unique email of the user.
        password:
          type: string
          description: password to be updated


    UserVerificationRequest:
      type: object
      properties:
        email:
          type: string
          description: unique email value.
        userID:
          type: string
          description: unique userid value.
    
        

    User:
      type: object
      properties:
        userID:
          type: string
          description: Unique 32-bit UUID per user.
        firstName:
          type: string
          description: FirstName of the user.
        lastName:
          type: string
          description: LastName of the user.
        email:
          type: string
          description: email id of the user.
        oauthId:
          type: string
          description: oauthId of the user.
        oauthProvider:
          type: string
          description: oauthProvider of the user.
        registeredTime:
          type: string
          description: UTC object indicating time of user signup. 
        activatedTime:
          type: string
          description: UTC object indicating time of user verification.
        isVerified:
          type: boolean
          description: status of user verification.
        isActive:
          type: boolean
          description: status of user activation.
        phoneNo:
          type: string
          description: mobile number of the user
        roles:
          type: array
          items:
            type: string
            
          
  
    Role:
      type: object
      properties:
        roleId:
          type: string
          description: Unique code per role.
        name:
          type: string
          description: role name.
        description:
          type: string
          description: Description of the role.
  
   
  
          
    AuthData:
      type: object
      properties:
        email:
          type: string
          description: email of the logged in user.
        publicKey:
          type: string
          description: random uuid key to be used as public key for the logged in user.
        privateKey:
          type: string
          description: hexadecimal uuid key for the logged in user for encrypting request data.
          
    UserData:
      type: object
      properties:
        userKeys:
          $ref: '#/components/schemas/AuthData'
        userDetails:
          $ref: '#/components/schemas/User'
          
          
    Status:
      type: object
      properties:
        message:
          type: string
          description: message returned after succesful request completion.
        data:
          type: object
          description: data returned by the request.
        count:
          type: integer
          description: count of data items.
    
    UserVerificationResponse:
      type: object
      properties:
        message:
          type: string
          description: message returned after succesful request completion.
        data:
          $ref: '#/components/schemas/AuthData'
        count:
          type: integer
          description: count of data items.
    
    UserLoginResponse:
      type: object
      properties:
        message:
          type: string
          description: message returned after succesful request completion.
        data:
          $ref: '#/components/schemas/UserData'
        count:
          type: integer
          description: count of data items.
    
    ApiKeySearchResponse:
      type: object
      properties:
        message:
          type: string
          description: message returned after succesful request completion.
        data:
          $ref: '#/components/schemas/UserData'
        count:
          type: integer
          description: count of data items.
      
   
      
    UlcaLoginAuthenticator:
      type: object
      properties:
        email:
          type: string
          description: email of user
        password:
          type: string
          description: password of user
         
    GmailLoginAuthenticator:
      type: object
      properties:
        token_type:
          type: string
          description: token type
        access_token:
          type: string
          description: token type
        scope:
          type: string
          description: scope
        login_hint:
          type: string
          description: login_hint
        expires_in:
          type: number
          description: expires_in
        id_token:
          type: number
          description: id_token 
        session_state:
          type: object
          description: session_state
          properties:
            extraQueryParams:
              type: string
              description: extraQueryParams
            authuser:
              type: number
              description: authuser 

          
  
    Authenticator:
      type: string
      enum:
        - ULCA
        - GMAIL
        - GITHUB
        - FACEBOOK
        - LINKEDIN
    
   
  
    
    ErrorReportRequest:
      type: object
      properties:
        serviceRequestNumber:
          type: string
          description: Unique submission id.
      description: Request for error report on a particular submission.

    
    ErrorReportResponse:
      type: object
      properties:
        file:
          type: string
          description: File path to object store.
        internal_file:
          type: string
          description: Internal file path.
        serviceRequestNumber:
          type: string
          description: Unique id for dataset submission
        time_stamp:
          type: string
          description: Report generated date and time.
        count:
          type: integer
          description: Count of errors uploaded on to object store.
        uploaded:
          type: boolean
          description: status of file upload.

  securitySchemes:
      apiKey:
        type: apiKey
        in: header
        name: key
      apiSig:
        type: apiKey
        in: header
        name: sig
        description: signed request url or body   
        
security:
  - apiKey: []
    apiSig: []